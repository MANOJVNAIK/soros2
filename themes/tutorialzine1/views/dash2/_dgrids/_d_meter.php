
 <script type="text/javascript">
                         //var header = document.getElementById('Live_Status');
                         $('header').addClass( function(index, currentClass){
                          var addedClass;
                          if( currentClass === "" )
                          {
                           addedClass = "ui-widget-header ui-corner-top";
                          }
                          return addedClass;
                         });
                         
                        
                        </script>
                        

<!-- Dave, the following code works, but Abhi changed his mind after work was already completed. -->

 <div id="meterGuage" style="height:200px;width:100%;">
  <div class="ui widget">
   <strong>Aluinium</strong><br/>
    <svg height="70" style="overflow: hidden; position: relative; " version="1.1" width="190" xmlns="http://www.w3.org/2000/svg"> 
	   <defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">            
	    <lineargradient id="0270-_FFFFFF-_D9E3F0" gradienttransform="matrix(1,0,0,1,0,0)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " x1="1.836909530733566e-16" x2="0" y1="0" y2="1">  
	     <stop offset="0%" stop-color="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " />     
	     <stop offset="100%" stop-color="#d9e3f0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " />   
	    </lineargradient>
	   </defs>
     
	   <rect class="jq-face" fill="url(#0270-_FFFFFF-_D9E3F0)" fill-opacity="1" height="60" opacity="1" r="5" rx="5" ry="5" stroke="#7ba0cc" stroke-width="4" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 1; fill-opacity: 1; " width="180" x="5" y="5" />    
	   
     <rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="34" y="27.5" />   
	   <text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="35" y="13">      
	    <tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">0</tspan>   
	   </text>   
    
     
	   <rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="58" y="27.5" />
	    <text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="59" y="13">
	     <tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">10</tspan>
	    </text>
	   <rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="82" y="27.5" />
	    <text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="83" y="13">
	     <tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">20</tspan>
	    </text>
	   <rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="106" y="27.5" />
	    <text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="107" y="13">
	     <tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">30</tspan>
	    </text>
	   <rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="130" y="27.5" />
	    <text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="131" y="13">
	     <tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">40</tspan>
	    </text>
	   <rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="154" y="27.5" />
	    <text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="155" y="13">
	     <tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">50</tspan>
	    </text>
      
	   <path class="jq-pointer" d="M33,35L31,65L35,65Z" fill="#1e395b" stroke="#1e395b" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,12,0)" />
    </svg>

</div>


<div >
<strong>Hydrogen</strong><br/>

<svg height="70" style="overflow: hidden; position: relative; " version="1.1" width="190" xmlns="http://www.w3.org/2000/svg">
	<defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">
	<lineargradient id="0270-_FFFFFF-_D9E3F0" gradienttransform="matrix(1,0,0,1,0,0)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " x1="1.836909530733566e-16" x2="0" y1="0" y2="1">
	<stop offset="0%" stop-color="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " />
	<stop offset="100%" stop-color="#d9e3f0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " />
	</lineargradient>
	</defs>
	<rect class="jq-face" fill="url(#0270-_FFFFFF-_D9E3F0)" fill-opacity="1" height="60" opacity="1" r="5" rx="5" ry="5" stroke="#7ba0cc" stroke-width="4" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 1; fill-opacity: 1; " width="180" x="5" y="5" />
	<rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="34" y="27.5" />
	<text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="35" y="13">
	<tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">0</tspan>
	</text>
	<rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="58" y="27.5" />
	<text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="59" y="13">
	<tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">10</tspan>
	</text>
	<rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="82" y="27.5" />
	<text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="83" y="13">
	<tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">20</tspan>
	</text>
	<rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="106" y="27.5" />
	<text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="107" y="13">
	<tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">30</tspan>
	</text>
	<rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="130" y="27.5" />
	<text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="131" y="13">
	<tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">40</tspan>
	</text>
	<rect class="jq-mark" fill="#1e395b" height="15" r="0" rx="0" ry="0" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,0,-1)" width="2" x="154" y="27.5" />
	<text Arial""="" class="jq-label" fill="#1e395b" font="10px " font-size="12px" font-weight="800" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; " text-anchor="middle" x="155" y="13">
	<tspan dy="4.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ">50</tspan>
	</text>
	<path class="jq-pointer" d="M33,35L31,65L35,65Z" fill="#1e395b" stroke="#1e395b" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); " transform="matrix(1,0,0,1,102,0)" />
</svg>

</div>

</div>


        
        <script type="text/javascript">
        
          
          var M_callback = {
                           M_execute : function(){
                            var fetchDashboardElements = 'fetchDashboardElements';
                            var gadgetType             = 'Meter_Gauge';
                            
                            $.ajax({
                                      type: 'POST',
                                      url: '<?php echo Yii::app()->baseUrl; ?>/dash/Dash',     //UIDashboardController::Dash().. 
                                      data: {'ajaxForwardRequest' : fetchDashboardElements, 'gadgetType' : gadgetType},
                                      success: function(stringified){
                                       var data_obj = $.parseJSON(stringified);
                                       //console.log(data_obj);
                                       
                                       var legacy_record_count = 0;
                                       var b = setInterval(function(){
                                       
                                       if(legacy_record_count == data_obj[0].data_value.length) //Abhinandan. Asserting that ALL the elements contain the same exact number within its own legacy records array..
                                       {
                                        clearInterval(b);
                                       }
                                       else{
                                        var data_count   = data_obj.length;
                                        var parent_div = document.getElementById('meterGuage');    //Abhinandan. Must clear 1x outside for loop..
                                            parent_div.innerHTML = "";
                                        
                                            
                                        for(var hb_i=0; hb_i < data_count; ++hb_i){
                                         var element_type   = data_obj[hb_i].element_type;   
                                         var currentColor   = data_obj[hb_i].data_value[legacy_record_count][element_type][1];
                                         var data_value     = data_obj[hb_i].data_value[legacy_record_count][element_type][0]; 
                                         var a_id           = data_obj[hb_i].dom_unique_attribute;  
                            
                                         //Dynamically create @ .js
                                         parent_div.style.height = "200px";
                                         parent_div.style.width  = "100%";
                                         
                                         child_div = document.createElement('div');
                                         child_div.className = "ui widget";
                                         
               
                
                                         /*
                                         *   Gauge needle @ <path transform='matrix(1,0,0,1,12,0)' >...
                                         *    The 12 represents how far over to the left or right from reference point.                                        
                                         *    
                                         *    @(practical) Reference Point:
                                         *      i.)  (see above) : Replace 12 with zero. Observe.
                                         *      ii.) (below)     : Each <rect class ... has a x='somenumber'
                                         *       * Subtract the difference between each <rect @ x > 
                                         *       * ie difference = 24(same throughout)
                                         *       * So I use this 24 value in combination with the dynamic values coming from server..                                                                                                                                                                    
                                         *                                                                                 
                                         *    @Reference point set at Parent: 
                                         *     <svg height="70", width="190" > ...                                                                                 
                                         */ 
              
                                      
                                         var AbhinandansQuote = 
                                                     ["<strong>" + element_type + "</strong><br/>",
                                                      "<svg height='70' style='overflow: hidden; position: relative; ' version='1.1' width='190 ' xmlns='http://www.w3.org/2000/svg'>",
                                                       "<defs style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); '>",
                                                        "<lineargradient id='0270-_FFFFFF-_D9E3F0' gradienttransform='matrix(1,0,0,1,0,0)' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' x1='1.836909530733566e-16' x2='0' y1='0' y2='1'>",
                                                         "<stop offset='0%' stop-color='#ffffff' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' />",
                                                         "<stop offset='100%' stop-color='#d9e3f0' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' />",
                                                        "</lineargradient>",
                                                       "</defs>",
                                                       "<rect class='jq-face' fill='url(#0270-_FFFFFF-_D9E3F0)' fill-opacity='1' height='60' opacity='1' r='5' rx='5' ry='5' stroke='#7ba0cc' stroke-width='4' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 1; fill-opacity: 1; ' width='180' x='5' y='5' />",
                                                       
                                                       "<rect class='jq-mark' fill='#1e395b' height='15' r='0' rx='0' ry='0' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' transform='matrix(1,0,0,1,0,-1)' width='2' x='34' y='27.5' />",
                                                       "<text Arial''='' class='jq-label' fill='#1e395b' font='10px ' font-size='12px' font-weight='800' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; ' text-anchor='middle' x='35' y='13'>",
                                                        "<tspan dy='4.5' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); '>0</tspan>",
                                                       "</text>",
                                                       
                                                       "<rect class='jq-mark' fill='#1e395b' height='15' r='0' rx='0' ry='0' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' transform='matrix(1,0,0,1,0,-1)' width='2' x='58' y='27.5' />",
                                                       "<text Arial''='' class='jq-label' fill='#1e395b' font='10px ' font-size='12px' font-weight='800' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; ' text-anchor='middle' x='59' y='13'>",
                                                        "<tspan dy='4.5' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); '>1</tspan>",
                                                       "</text>",                                                                                                                                                                                
                                                       
                                                       "<rect class='jq-mark' fill='#1e395b' height='15' r='0' rx='0' ry='0' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' transform='matrix(1,0,0,1,0,-1)' width='2' x='82' y='27.5' />",
                                                       "<text Arial''='' class='jq-label' fill='#1e395b' font='10px ' font-size='12px' font-weight='800' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; ' text-anchor='middle' x='83' y='13'>",
                                                        "<tspan dy='4.5' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); '>2</tspan>",
                                                       "</text>",
                                                       
                                                       "<rect class='jq-mark' fill='#1e395b' height='15' r='0' rx='0' ry='0' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' transform='matrix(1,0,0,1,0,-1)' width='2' x='106' y='27.5' />",
                                                       "<text Arial''='' class='jq-label' fill='#1e395b' font='10px ' font-size='12px' font-weight='800' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; ' text-anchor='middle' x='107' y='13'>",
                                                        "<tspan dy='4.5' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); '>3</tspan>",
                                                       "</text>",
                                                       
                                                       "<rect class='jq-mark' fill='#1e395b' height='15' r='0' rx='0' ry='0' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' transform='matrix(1,0,0,1,0,-1)' width='2' x='130' y='27.5' />",
                                                       "<text Arial''='' class='jq-label' fill='#1e395b' font='10px ' font-size='12px' font-weight='800' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; ' text-anchor='middle' x='131' y='13'>",
                                                        "<tspan dy='4.5' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); '>4</tspan>",
                                                       "</text>",
                                                       
                                                       "<rect class='jq-mark' fill='#1e395b' height='15' r='0' rx='0' ry='0' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' transform='matrix(1,0,0,1,0,-1)' width='2' x='154' y='27.5' />",
                                                       "<text Arial''='' class='jq-label' fill='#1e395b' font='10px ' font-size='12px' font-weight='800' stroke='none' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-size: 12px; line-height: normal; font-family: Arial; ' text-anchor='middle' x='155' y='13'>",
                                                        "<tspan dy='4.5' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); '>5</tspan>",
                                                       "</text>",
                                                       
                                                       "<path class='jq-pointer' d='M33,35L31,65L35,65Z' fill='#1e395b' stroke='#1e395b' style='-webkit-tap-highlight-color: rgba(0, 0, 0, 0); ' transform='matrix(1,0,0,1,24,0)' />",
                                                       
                                                      "</svg>"
                                                     ].join('\n');
                                         
                                         child_div.innerHTML = AbhinandansQuote;
                                         
                                         
                                         parent_div.appendChild(child_div)
                                  
                                        }//end for loop.. 
                                           
                                        
                                        ++legacy_record_count;                          
                                       }
                                       
                                       }, 3000);  //end  setInterval @ b..
                                       
                                      } //success
                                      
                            }); //ajax
                            
                            
                           }  //M_execute
          
          };  //M_callback
          
        M_callback.M_execute();
        
        
          
        </script>


